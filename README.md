# UNVOCS
## 概要
日本語用の声質変換システムです。  
変換元・変換先話者の母音の音声をもとに声質変換を行います。  
機械学習を用いないため、性能の低い端末でも問題なく動作させることができます。

## 前提パッケージ
numpy、[pyworld](https://github.com/JeremyCCHsu/Python-Wrapper-for-World-Vocoder)

## 提供される関数
### estimate_division_pos(a, i, u, e, o, sample_rate)
同一の話者の母音の音声をもとに、本システムが変換に使用する特徴量を計算します。  
#### 引数
- **a, i, u, e, o**  
各母音の音声データを、`numpy.ndarray`で与えてください。
- **sample_rate**  
音声データのサンプリング周波数を、整数値で与えてください。
#### 戻り値
要素が7個のタプルが戻ります。各要素の内容は以下の通りです。
- **1番目: 分割位置**  
本システムが変換に使用する特徴量です。要素が8個の配列です。
- **2番目: 平均値**  
本システムが変換に使用する特徴量です。要素が9個の配列です。
- **3番目～7番目: スペクトル包絡**  
各母音のスペクトル包絡です。それぞれ要素が513個の配列です。
### voice_convert(s1, a, b1, s2, b2, sample_rate, r)
声質変換を行う関数です。
#### 引数
- **s1**  
変換する音声のデータを、`numpy.ndarray`で与えてください。
- **a**  
変換元の話者の母音の音声の平均値 ([estimate_division_pos関数](#estimate_division_posa-i-u-e-o-sample_rate)の戻り値の2番目の要素) です。
- **b1**  
変換元の話者の母音の音声の分割位置 (estimate_division_pos関数の戻り値の1番目の要素) です。
- **s2**  
変換先の話者の「あ」の音声のスペクトル包絡 (estimate_division_pos関数の戻り値の3番目の要素) です。
- **b2**  
変換先の話者の母音の音声の分割位置です。
- **sample_rate**  
変換する音声のサンプリング周波数です。
- **r**  
WORLDのaperiodicityの変換を行う際に使用するパラメータです。0.0と1.0の間の数値を指定します。  
とりあえず0.6～1.0あたりの数を与えておけば問題なく利用できます。
#### 戻り値
3要素のタプルが戻ります。各要素の内容は、順に、スペクトル包絡、aperiodicity、基本周波数です。  
そのままpyworldのsynthesize関数に与えることができます。
